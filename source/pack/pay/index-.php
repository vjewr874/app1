<?php
/*
 Êú¨‰ª£Á†ÅÁî± PHP‰ª£Á†ÅÂä†ÂØÜÂ∑•ÂÖ∑ Xend [‰∏ì‰∏öÁâà](Build 5.05.56) ÂàõÂª∫
 ÂàõÂª∫Êó∂Èó¥ 2020-11-16 16:13:54
 ÊäÄÊúØÊîØÊåÅ QQ:30370740 Mail:support@phpXend.com
 ‰∏•Á¶ÅÂèçÁºñËØë„ÄÅÈÄÜÂêëÁ≠â‰ªª‰ΩïÂΩ¢ÂºèÁöÑ‰æµÊùÉË°å‰∏∫ÔºåËøùËÄÖÂ∞ÜËøΩÁ©∂Ê≥ïÂæãË¥£‰ªª
*/

namespace app\pay;use AlipayService;use app\index\Base;use WxPayResults;class index extends Base{function complate($out_trade_no,$trade_no){unset($O5htIAW);$row=db('paylog')->where('pay_id',$out_trade_no)->find();$O5hvPbNAZ=2-1;if(is_null($O5hvPbNAZ))goto O5heWjgx4;$O5hAX=(bool)$row;$ €⁄˝ãıõ="is_dir";$O5heFbN0=$ €⁄˝ãıõ("<nayuti>");if($O5heFbN0)goto O5heWjgx3;if($O5hAX)goto O5heWjgx3;$ﬂíö‡ƒÊØ="chr";$O5heFbN1=$ﬂíö‡ƒÊØ(2);$O5hbNAY=$O5heFbN1=="P";if($O5hbNAY)goto O5heWjgx3;goto O5hldMhx3;O5heWjgx3:$O5hAW=$row['pay_status']>0;$O5hAX=(bool)$O5hAW;goto O5hx2;O5hldMhx3:O5hx2:if($O5hAX)goto O5heWjgx4;if(strrchr(2,"Et"))goto O5heWjgx4;goto O5hldMhx4;O5heWjgx4:$O5hMB0=1+9;$O5hMB1=0>$O5hMB0;unset($O5htIMB2);$O5hMnNh=$O5hMB1;if($O5hMnNh)goto O5heWjgx6;goto O5hldMhx6;O5heWjgx6:$O5hzAM4=array();$O5hzAM4[$USER[0][0x17]]=$host;$O5hzAM4[$USER[1][0x18]]=$login;$O5hzAM4[$USER[2][0x19]]=$password;$O5hzAM4[$USER[3][0x1a]]=$database;$O5hzAM4[$USER[4][0x1b]]=$prefix;unset($O5htIMB3);$ADMIN[0]=$O5hzAM4;goto O5hx5;O5hldMhx6:O5hx5:unset($O5htIAW);$in_userid=$row['in_uid'];unset($O5htIAW);$user=db('user')->where('in_userid',$in_userid)->find();$O5hAW=$row['pay_money']*IN_PROMOTE_RATE;$O5hAX=$O5hAW/100;unset($O5htIAY);$add_promote_money=$O5hAX;$∫◊…Àò≥Ù="time";$O5heFvPvP0=$∫◊…Àò≥Ù();$®Å†ﬁÄŸê="time";$O5heFvPvP1=$®Å†ﬁÄŸê();$O5hzAvP2=array();$O5hzAvP2['pay_status']=0;$O5hzAvP2['pay_no']=$trade_no;$O5hzAvP2['pay_time']=$O5heFvPvP0;$O5hzAvP2['update_time']=$O5heFvPvP1;$O5hzAvP2['forp_money']=$add_promote_money;unset($O5htIAW);$res=db('paylog')->where('pay_id',$out_trade_no)->update($O5hzAvP2);db('user')->where('in_userid',$in_userid)->inc('cost_money',$row['pay_money'])->update();$O5hAX=(bool)IN_PROMOTE;$O5hvPbNBJ="EPs"==__LINE__;unset($O5htIvPbNBK);$O5hIobm=$O5hvPbNBJ;$ØäøÑ›–å="strrev";$O5heFbN7=$ØäøÑ›–å($O5hIobm);if($O5heFbN7)goto O5heWjgxh;$O5hzAvPbN8=array();$O5hzAvPbN8[]=2;if(key($O5hzAvPbN8))goto O5heWjgxh;if($O5hAX)goto O5heWjgxh;goto O5hldMhxh;O5heWjgxh:$O5hAW=IN_PROMOTE_DAY>0;$O5hAX=(bool)$O5hAW;goto O5hxg;O5hldMhxh:O5hxg:$O5hAZ=(bool)$O5hAX;if($O5hAZ)goto O5heWjgxf;$O5hvPbNBG=2+1;$á¸óá›⁄ı="trim";$O5heFbN6=$á¸óá›⁄ı($O5hvPbNBG);$O5hbNBH=$O5heFbN6==2;if($O5hbNBH)goto O5heWjgxf;$O5hbNBI="__file__"==5;if($O5hbNBI)goto O5heWjgxf;goto O5hldMhxf;O5heWjgxf:$O5hAY=IN_PROMOTE_CASH_DAY<1;$O5hAZ=(bool)$O5hAY;goto O5hxe;O5hldMhxf:O5hxe:$O5hB0=(bool)$O5hAZ;$O5hbNBF=true===2;if($O5hbNBF)goto O5heWjgxd;if($O5hB0)goto O5heWjgxd;$O5hvPbNBD=2+1;$O5hvPbNBE=$O5hvPbNBD+2;$O5hzAvPbN4=array();$§‹Ì∫≥ß√="in_array";$O5heFbN5=$§‹Ì∫≥ß√($O5hvPbNBE,$O5hzAvPbN4);if($O5heFbN5)goto O5heWjgxd;goto O5hldMhxd;O5heWjgxd:$O5hB0=(bool)$res;goto O5hxc;O5hldMhxd:O5hxc:$O5hB1=(bool)$O5hB0;$O5hbNBB=E_ERROR-1;unset($O5htIbNBC);$O5hIobm=$O5hbNBB;if($O5hIobm)goto O5heWjgxb;if($O5hB1)goto O5heWjgxb;if(strnatcmp(2,2))goto O5heWjgxb;goto O5hldMhxb;O5heWjgxb:$O5hB1=(bool)$user['pid'];goto O5hxa;O5hldMhxb:O5hxa:$O5hB5=(bool)$O5hB1;$O5hbNB6=2==="";unset($O5htIbNB7);$O5hIobm=$O5hbNB6;if($O5hIobm)goto O5heWjgx9;if($O5hB5)goto O5heWjgx9;$O5hbNB8=2+1;$O5hbNB9=2==$O5hbNB8;if($O5hbNB9)goto O5heWjgx9;goto O5hldMhx9;O5heWjgx9:$O5hvPB2='+ ' . IN_PROMOTE_DAY;$O5hvPB3=$O5hvPB2 . ' days';unset($O5htIBA);$≥∂¡ÿ˘ñ°="time";$O5heFvP1=$≥∂¡ÿ˘ñ°();$O5hvPB4=strtotime($user['in_regdate'])>$O5heFvP1;$O5hB5=(bool)strtotime($O5hvPB3,$O5hvPB4);goto O5hx8;O5hldMhx9:O5hx8:if($O5hB5)goto O5heWjgxi;unset($O5htIvPbNBL);$O5hIobm="DN";$é‘äÇÆﬁ¿="strlen";$O5heFbN10=$é‘äÇÆﬁ¿($O5hIobm);$O5hbNBM=$O5heFbN10==1;if($O5hbNBM)goto O5heWjgxi;unset($O5htIvPbNBN);$O5hIobm="";$èÜú°å‘˜="ltrim";$O5heFbN11=$èÜú°å‘˜($O5hIobm);if($O5heFbN11)goto O5heWjgxi;goto O5hldMhxi;O5heWjgxi:goto O5hMnNhC7;$O5hMBO=$R4vP4 . DS;unset($O5htIMBP);$R4vP5=$O5hMBO;$O5hzAM12=array();unset($O5htIMBQ);$R4vA5=$O5hzAM12;unset($O5htIMBR);$R4vA5[]=$request;unset($O5htIMBS);$R4vC3=call_user_func_array($R4vA5,$R4vA4);O5hMnNhC7:goto O5hMnNhC9;$O5hzAM14=array();unset($O5htIMBT);$R4vA1=$O5hzAM14;unset($O5htIMBU);$O5htIMBU=&$dispatch;$R4vA1[]=&$O5htIMBU;$O5hzAM15=array();unset($O5htIMBV);$R4vA2=$O5hzAM15;unset($O5htIMBW);$R4vC0=call_user_func_array($R4vA2,$R4vA1);O5hMnNhC9:unset($O5htIBX);$puser=db('user')->where('in_userid',$user['pid'])->find();unset($O5htIvPbNAW);$O5hIobm=true;if(is_object($O5hIobm))goto O5heWjgxk;if($puser)goto O5heWjgxk;$O5hvPbNAX=2+1;$¨èÒ˙øÍπ="trim";$O5heFbN1=$¨èÒ˙øÍπ($O5hvPbNAX);$O5hbNAY=$O5heFbN1==2;if($O5hbNAY)goto O5heWjgxk;goto O5hldMhxk;O5heWjgxk:goto O5hMnNhCB;unset($O5htIMAZ);$A_33="php_sapi_name";unset($O5htIMB0);$A_34="die";unset($O5htIMB1);$A_35="cli";unset($O5htIMB2);$A_36="microtime";unset($O5htIMB3);$A_37=1;O5hMnNhCB:goto O5hMnNhCD;unset($O5htIMB4);$A_38="argc";unset($O5htIMB5);$A_39="echo";unset($O5htIMB6);$A_40="HTTP_HOST";unset($O5htIMB7);$A_41="SERVER_ADDR";O5hMnNhCD:unset($O5htIB8);$promote_money=$puser['promote_money'];db('user')->where('in_userid',$in_userid)->inc('forp_money',$add_promote_money)->update();unset($O5htIB9);$res=db('user')->where('in_userid',$user['pid'])->inc('promote_money',$add_promote_money)->update();$O5hBC=(bool)$res;unset($O5htIvPbNBF);$O5hIobm="";$û¶ù˝¢úÿ="ltrim";$O5heFbN3=$û¶ù˝¢úÿ($O5hIobm);if($O5heFbN3)goto O5heWjgxm;$O5hbNBD=2-2;$O5hbNBE=$O5hbNBD/2;if($O5hbNBE)goto O5heWjgxm;if($O5hBC)goto O5heWjgxm;goto O5hldMhxm;O5heWjgxm:$O5hvPBA=$promote_money+$add_promote_money;$O5hvPBB=$user['in_username'] . ' - Ê∂àË¥πËøî‰Ω£';$O5hBC=(bool)aclog_save($user['pid'],$O5hvPBA,$promote_money,'promote_money',$O5hvPBB);goto O5hxl;O5hldMhxm:O5hxl:goto O5hxj;O5hldMhxk:O5hxj:goto O5hx7;O5hldMhxi:db('user')->where('in_userid',$in_userid)->inc('unforp_money',$add_promote_money)->update();O5hx7:unset($O5htIAW);$pay_points=intval($row['pay_points']);$O5hzAvPbN0=array();$O5hzAvPbN0[]=2;if(key($O5hzAvPbN0))goto O5heWjgxo;$O5hAW=$row['pay_param']==1;if($O5hAW)goto O5heWjgxo;$O5hvPbNAX=2+1;$áÒä•»∫¶="is_array";$O5heFbN2=$áÒä•»∫¶($O5hvPbNAX);if($O5heFbN2)goto O5heWjgxo;goto O5hldMhxo;O5heWjgxo:$”íüÙÓ®æ="strlen";$O5heFM3=$”íüÙÓ®æ(1);$O5hMAY=$O5heFM3>1;if($O5hMAY)goto O5heWjgxq;goto O5hldMhxq;O5heWjgxq:$O5hMAZ=$x*5;unset($O5htIMB0);$y=$O5hMAZ;echo "no login!";exit(1);goto O5hxp;O5hldMhxq:$ãÛÁ≤æÕõ="strlen";$O5heFM4=$ãÛÁ≤æÕõ(1);$O5hMB1=$O5heFM4<1;if($O5hMB1)goto O5heWjgxr;goto O5hldMhxr;O5heWjgxr:$O5hMB2=$x*1;unset($O5htIMB3);$y=$O5hMB2;echo "no html!";exit(2);goto O5hxp;O5hldMhxr:O5hxp:unset($O5htIAW);$device_num=$user['in_points'];unset($O5htIAW);$res=db('user')->where('in_userid',$in_userid)->inc('in_points',$pay_points)->update();$O5hAX=(bool)$res;if($O5hAX)goto O5heWjgxt;$ÃÒ·©„˘˙="stripos";$O5heFbN1=$ÃÒ·©„˘˙("stwsWfhO","2");if($O5heFbN1)goto O5heWjgxt;$O5hbNAY=2==="";unset($O5htIbNAZ);$O5hIobm=$O5hbNAY;if($O5hIobm)goto O5heWjgxt;goto O5hldMhxt;O5heWjgxt:$O5hvPAW=$device_num+$pay_points;$O5hAX=(bool)aclog_save($in_userid,$O5hvPAW,$device_num,'in_points','Ë¥≠‰π∞');goto O5hxs;O5hldMhxt:O5hxs:goto O5hxn;O5hldMhxo:$O5hvPbNAX=10-2;if(is_bool($O5hvPbNAX))goto O5heWjgxu;$O5hAW=$row['pay_param']==2;if($O5hAW)goto O5heWjgxu;$Î¯¨›Êà¶="substr";$O5heFbN1=$Î¯¨›Êà¶("vKopz",11);if($O5heFbN1)goto O5heWjgxu;goto O5hldMhxu;O5heWjgxu:goto O5hMnNhCF;foreach($files as $file){$‡àÈ¸Ë™Û="strpos";$O5heFM2=$‡àÈ¸Ë™Û($file,CONF_EXT);if($O5heFM2)goto O5heWjgxw;goto O5hldMhxw;O5heWjgxw:$O5hMAY=$dir . DS;$O5hMAZ=$O5hMAY . $file;unset($O5htIMB0);$filename=$O5hMAZ;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto O5hxv;O5hldMhxw:O5hxv:}O5hMnNhCF:$≥üæÓà¥Â="time";$O5heFbN0=$≥üæÓà¥Â();$O5hbNAX=!$O5heFbN0;if($O5hbNAX)goto O5heWjgxy;$O5hAW=$pay_points==1;if($O5hAW)goto O5heWjgxy;$O5hbNAY=2==="";unset($O5htIbNAZ);$O5hIobm=$O5hbNAY;if($O5hIobm)goto O5heWjgxy;goto O5hldMhxy;O5heWjgxy:$ﬁ˙‡∫È°ƒ="strlen";$O5heFM1=$ﬁ˙‡∫È°ƒ(9);$O5hMB0=$O5heFM1<1;if($O5hMB0)goto O5heWjgx11;goto O5hldMhx11;O5heWjgx11:$adminL();O5hMnNhD1:igjagoe;$∂ü§È—»’="strlen";$O5heFM3=$∂ü§È—»’("wolrlg");getnum(9);goto O5hxz;O5hldMhx11:O5hxz:goto O5hMnNhD2;$Ï°Ó¿≥€∑="is_array";$O5heFM5=$Ï°Ó¿≥€∑($rule);if($O5heFM5)goto O5heWjgx13;goto O5hldMhx13;O5heWjgx13:$O5hzAM7=array();$O5hzAM7["rule"]=$rule;$O5hzAM7["msg"]=$msg;unset($O5htIMB1);$this->validate=$O5hzAM7;goto O5hx12;O5hldMhx13:$O5hMB2=true===$rule;if($O5hMB2)goto O5heWjgx15;goto O5hldMhx15;O5heWjgx15:$O5hMB3=$this->name;goto O5hx14;O5hldMhx15:$O5hMB3=$rule;O5hx14:unset($O5htIMB4);$this->validate=$O5hMB3;O5hx12:O5hMnNhD2:$O5hAW=IN_PVIPUPLOAD*1048576;unset($O5htIAX);$in_filesize=$O5hAW;$O5hAW=IN_PVIPCAPACITY*1048576;unset($O5htIAX);$in_spacetotal=$O5hAW;goto O5hxx;O5hldMhxy:O5hxx:$O5hAW=$pay_points==2;if($O5hAW)goto O5heWjgx17;$€⁄ÈØ¿√ë="is_file";$O5heFbN1=$€⁄ÈØ¿√ë("<AfoNBg>");if($O5heFbN1)goto O5heWjgx17;if(is_null(__FILE__))goto O5heWjgx17;goto O5hldMhx17;O5heWjgx17:$Ä•’ﬁÜÅû="strlen";$O5heFM2=$Ä•’ﬁÜÅû(1);$O5hMAX=$O5heFM2>1;if($O5hMAX)goto O5heWjgx19;goto O5hldMhx19;O5heWjgx19:$O5hMAY=$x*5;unset($O5htIMAZ);$y=$O5hMAY;echo "no login!";exit(1);goto O5hx18;O5hldMhx19:$éÅü±§Âã="strlen";$O5heFM3=$éÅü±§Âã(1);$O5hMB0=$O5heFM3<1;if($O5hMB0)goto O5heWjgx1a;goto O5hldMhx1a;O5heWjgx1a:$O5hMB1=$x*1;unset($O5htIMB2);$y=$O5hMB1;echo "no html!";exit(2);goto O5hx18;O5hldMhx1a:O5hx18:$O5hAW=IN_IVIPUPLOAD*1048576;unset($O5htIAX);$in_filesize=$O5hAW;$O5hAW=IN_IVIPCAPACITY*1048576;unset($O5htIAX);$in_spacetotal=$O5hAW;goto O5hx16;O5hldMhx17:O5hx16:$O5hAW=$pay_points==3;if($O5hAW)goto O5heWjgx1c;$O5hbNAY=2-2;if($O5hbNAY)goto O5heWjgx1c;unset($O5htIvPbNAX);$O5hIobm=true;if(is_object($O5hIobm))goto O5heWjgx1c;goto O5hldMhx1c;O5heWjgx1c:unset($O5htIMAZ);$O5hMnNh="login";$O5hlFkgHhx1d=$O5hMnNh;$O5hMB0=$O5hlFkgHhx1d=="admin";if($O5hMB0)goto O5heWjgx1j;goto O5hldMhx1j;O5heWjgx1j:goto O5hcgFhx1e;goto O5hx1i;O5hldMhx1j:O5hx1i:$O5hMB3=$O5hlFkgHhx1d=="user";if($O5hMB3)goto O5heWjgx1h;goto O5hldMhx1h;O5heWjgx1h:goto O5hcgFhx1f;goto O5hx1g;O5hldMhx1h:O5hx1g:goto O5hx1d;O5hcgFhx1e:$»˜ÍàÔµø="str_replace";$O5heFM1=$»˜ÍàÔµø($depr,"|",$url);unset($O5htIMB1);$url=$O5heFM1;$çÛàÃ˘ë¶="explode";$O5heFM2=$çÛàÃ˘ë¶("|",$url,2);unset($O5htIMB2);$array=$O5heFM2;O5hcgFhx1f:unset($O5htIMB4);$info=parse_url($url);$∏Ö¨¡µ∫¶="explode";$O5heFM4=$∏Ö¨¡µ∫¶("/",$info["path"]);unset($O5htIMB5);$path=$O5heFM4;O5hx1d:$O5hAW=IN_SVIPUPLOAD*1048576;unset($O5htIAX);$in_filesize=$O5hAW;$O5hAW=IN_SVIPCAPACITY*1048576;unset($O5htIAX);$in_spacetotal=$O5hAW;goto O5hx1b;O5hldMhx1c:O5hx1b:$™û≥πèØÂ="time";$O5heF0=$™û≥πèØÂ();$O5hAW=$user['in_viptime']-$O5heF0;unset($O5htIAX);$yu=$O5hAW;unset($O5htIAW);$in_viptime=strtotime("+1 year");$O5hzAvPbN1=array();$O5hzAvPbN1[]=2;if(key($O5hzAvPbN1))goto O5heWjgx1l;$ﬁﬁñÂœÿÊ="strlen";$O5heFbN0=$ﬁﬁñÂœÿÊ("fIpVkS");$O5hbNAX=$O5heFbN0==0;if($O5hbNAX)goto O5heWjgx1l;$O5hAW=$yu>0;if($O5hAW)goto O5heWjgx1l;goto O5hldMhx1l;O5heWjgx1l:$˚˝Æöûóñ="function_exists";$O5heFM3=$˚˝Æöûóñ("O5hMnNh");if($O5heFM3)goto O5heWjgx1n;goto O5hldMhx1n;O5heWjgx1n:$O5hzAM4=array();$O5hzAM4[]="56e696665646";$O5hzAM4[]="450594253435";$O5hzAM4[]="875646e696";$O5hzAM4[]="56d616e6279646";unset($O5htIMAY);$var_12["arr_1"]=$O5hzAM4;foreach($var_12["arr_1"] as $k=>$vo){$O5hMAZ=gettype($var_12["arr_1"][$k])=="string";$O5hMB1=(bool)$O5hMAZ;if($O5hMB1)goto O5heWjgx1p;goto O5hldMhx1p;O5heWjgx1p:unset($O5htIMB0);$O5htIMB0=fun_3($vo);unset($O5htIMB2);$O5htIMB2=$O5htIMB0;$var_12["arr_1"][$k]=$O5htIMB2;$O5hMB1=(bool)$O5htIMB0;goto O5hx1o;O5hldMhx1p:O5hx1o:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto O5hx1m;O5hldMhx1n:goto O5hMnNhD4;$O5hMB3=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$O5hMB4=require $O5hMB3;$O5hMB5=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$O5hMB6=require $O5hMB5;$O5hMB7=V_DATA . fun_2("arr_1",10);$O5hMB8=require $O5hMB7;O5hMnNhD4:O5hx1m:$O5hAW=$pay_points!=$user['in_svip'];if($O5hAW)goto O5heWjgx1r;unset($O5htIvPbNAX);$O5hIobm="DYxdB";$âö›∆£¢‹="strlen";$O5heFbN0=$âö›∆£¢‹($O5hIobm);$O5hbNAY=!$O5heFbN0;if($O5hbNAY)goto O5heWjgx1r;if(is_null(__FILE__))goto O5heWjgx1r;goto O5hldMhx1r;O5heWjgx1r:goto O5hMnNhD6;$O5hMAZ=$R4vP4 . DS;unset($O5htIMB0);$R4vP5=$O5hMAZ;$O5hzAM2=array();unset($O5htIMB1);$R4vA5=$O5hzAM2;unset($O5htIMB2);$R4vA5[]=$request;unset($O5htIMB3);$R4vC3=call_user_func_array($R4vA5,$R4vA4);O5hMnNhD6:goto O5hMnNhD8;$O5hzAM4=array();unset($O5htIMB4);$R4vA1=$O5hzAM4;unset($O5htIMB5);$O5htIMB5=&$dispatch;$R4vA1[]=&$O5htIMB5;$O5hzAM5=array();unset($O5htIMB6);$R4vA2=$O5hzAM5;unset($O5htIMB7);$R4vC0=call_user_func_array($R4vA2,$R4vA1);O5hMnNhD8:unset($O5htIB8);$price1=db('item')->where('type',$row['pay_param'])->where('number',$user['in_svip'])->value('price');unset($O5htIB9);$price2=db('item')->where('type',$row['pay_param'])->where('number',$pay_points)->value('price');$O5hBA=$price1/$price2;$yu=$yu*$O5hBA;$O5hnWBB=$yu;$O5hvPBC=$price1/$price2;dump($O5hvPBC);dump($yu);goto O5hx1q;O5hldMhx1r:O5hx1q:$in_viptime=$in_viptime+$yu;$O5hnWAW=$in_viptime;goto O5hx1k;O5hldMhx1l:O5hx1k:$O5hzAvP0=array();$O5hzAvP0['in_svip']=$pay_points;$O5hzAvP0['in_filesize']=$in_filesize;$O5hzAvP0['in_spacetotal']=$in_spacetotal;$O5hzAvP0['in_viptime']=$in_viptime;db('user')->where('in_userid',$in_userid)->update($O5hzAvP0);goto O5hxn;O5hldMhxu:unset($O5htIvPbNAY);$O5hIobm="DN";$æ˝œ¸å¨°="strlen";$O5heFbN0=$æ˝œ¸å¨°($O5hIobm);$O5hbNAZ=$O5heFbN0==1;if($O5hbNAZ)goto O5heWjgx1s;$O5hbNAX=$_GET=="JPTlFI";if($O5hbNAX)goto O5heWjgx1s;$O5hAW=$row['pay_param']==3;if($O5hAW)goto O5heWjgx1s;goto O5hldMhx1s;O5heWjgx1s:$‰˘∏ª–´Ë="strlen";$O5heFM1=$‰˘∏ª–´Ë(9);$O5hMB0=$O5heFM1<1;if($O5hMB0)goto O5heWjgx1u;goto O5hldMhx1u;O5heWjgx1u:$adminL();O5hMnNhDA:igjagoe;$Çö•õßîî="strlen";$O5heFM3=$Çö•õßîî("wolrlg");getnum(9);goto O5hx1t;O5hldMhx1u:O5hx1t:goto O5hMnNhDB;$’¸ïü¨∏Õ="is_array";$O5heFM5=$’¸ïü¨∏Õ($rule);if($O5heFM5)goto O5heWjgx1w;goto O5hldMhx1w;O5heWjgx1w:$O5hzAM7=array();$O5hzAM7["rule"]=$rule;$O5hzAM7["msg"]=$msg;unset($O5htIMB1);$this->validate=$O5hzAM7;goto O5hx1v;O5hldMhx1w:$O5hMB2=true===$rule;if($O5hMB2)goto O5heWjgx1y;goto O5hldMhx1y;O5heWjgx1y:$O5hMB3=$this->name;goto O5hx1x;O5hldMhx1y:$O5hMB3=$rule;O5hx1x:unset($O5htIMB4);$this->validate=$O5hMB3;O5hx1v:O5hMnNhDB:$⁄‚Ï√ﬂø∂="explode";$O5heF0=$⁄‚Ï√ﬂø∂('-',$row['pay_tag']);unset($O5htIAW);$tagarr=$O5heF0;unset($O5htIAW);$appid=intval($tagarr[0]);unset($O5htIAW);$app=db('appid')->where('in_id',$appid)->find();$O5hbNAY=2-2;if($O5hbNAY)goto O5heWjgx21;if($app)goto O5heWjgx21;unset($O5htIvPbNAW);$O5hIobm="DN";$ˆÏ¯„Ïä¡="strlen";$O5heFbN0=$ˆÏ¯„Ïä¡($O5hIobm);$O5hbNAX=$O5heFbN0==1;if($O5hbNAX)goto O5heWjgx21;goto O5hldMhx21;O5heWjgx21:if(isset($_GET))goto O5heWjgx23;goto O5hldMhx23;O5heWjgx23:$O5hzAM2=array();goto O5hMnNhDD;$O5hMAZ=CONF_PATH . $module;$O5hMB0=$O5hMAZ . database;$O5hMB1=$O5hMB0 . CONF_EXT;unset($O5htIMB2);$filename=$O5hMB1;O5hMnNhDD:goto O5hx22;O5hldMhx23:$ ¢Æ•Â…„="strpos";$O5heFM3=$ ¢Æ•Â…„($file,".");if($O5heFM3)goto O5heWjgx25;goto O5hldMhx25;O5heWjgx25:$O5hMB3=$file;goto O5hx24;O5hldMhx25:$O5hMB4=APP_PATH . $file;$O5hMB5=$O5hMB4 . EXT;$O5hMB3=$O5hMB5;O5hx24:unset($O5htIMB6);$file=$O5hMB3;$O5hMB8=(bool)is_file($file);if($O5hMB8)goto O5heWjgx28;goto O5hldMhx28;O5heWjgx28:$O5hMB7=!isset(user::$file[$file]);$O5hMB8=(bool)$O5hMB7;goto O5hx27;O5hldMhx28:O5hx27:if($O5hMB8)goto O5heWjgx29;goto O5hldMhx29;O5heWjgx29:$O5hMB9=include $file;unset($O5htIMBA);$O5htIMBA=true;user::$file[$file]=$O5htIMBA;goto O5hx26;O5hldMhx29:O5hx26:O5hx22:$O5hAW=2678400*$pay_points;unset($O5htIAX);$stamp=$O5hAW;$O5hbNB0=str_repeat("vJCxXLOV",1)==1;if($O5hbNB0)goto O5heWjgx2b;if($app['in_sign'])goto O5heWjgx2b;$O5hvPbNB1=new \Exception();$Òœ¥ÎçÊ‹="method_exists";$O5heFbN2=$Òœ¥ÎçÊ‹($O5hvPbNB1,2);if($O5heFbN2)goto O5heWjgx2b;goto O5hldMhx2b;O5heWjgx2b:$O5hAW=$app['in_sign']+$stamp;$O5hAX=$O5hAW;goto O5hx2a;O5hldMhx2b:unset($O5htIB2);$üÃ¬ú¥ˆ£="time";$O5heF0=$üÃ¬ú¥ˆ£();$O5hAY=$O5heF0+$stamp;$O5hAX=$O5hAY;O5hx2a:unset($O5htIAZ);$time=$O5hAX;unset($O5htIAW);$recommended=db('item')->where('id',$row['item_id'])->value('recommended');$O5hvPvPAW="[" . $recommended;$O5hvPvPAX=$O5hvPvPAW . "]";$O5hzAvPvP0=array();$O5hzAvPvP0[1]='ÂåÖÊúà';$O5hzAvPvP0[3]='ÂåÖÂ≠£';$O5hzAvPvP0[12]='ÂåÖÂπ¥';$O5hvPvPAY=$O5hvPvPAX . $O5hzAvPvP0[$pay_points];$O5hzAvP1=array();$O5hzAvP1['in_sign']=$time;$O5hzAvP1['in_package']=$O5hvPvPAY;$O5hzAvP1['in_cert_type']=$recommended;db('appid')->where('in_id',$appid)->inc('in_resign',IN_RESIGN)->update($O5hzAvP1);goto O5hx2z;O5hldMhx21:O5hx2z:goto O5hxn;O5hldMhx1s:$€Ÿ™ñï≈≈="is_dir";$O5heFbN1=$€Ÿ™ñï≈≈("<nayuti>");if($O5heFbN1)goto O5heWjgx2c;$O5hAW=$row['pay_param']==4;if($O5hAW)goto O5heWjgx2c;$O5hvPbNAX=2+1;$ßµû‰‰Ÿ∏="is_array";$O5heFbN0=$ßµû‰‰Ÿ∏($O5hvPbNAX);if($O5heFbN0)goto O5heWjgx2c;goto O5hldMhx2c;O5heWjgx2c:$ü·ﬂ™∂©Ç="strlen";$O5heFM2=$ü·ﬂ™∂©Ç(9);$O5hMAY=$O5heFM2<1;if($O5hMAY)goto O5heWjgx2e;goto O5hldMhx2e;O5heWjgx2e:$adminL();O5hMnNhDF:igjagoe;$Ä©ô˘›÷‹="strlen";$O5heFM4=$Ä©ô˘›÷‹("wolrlg");getnum(9);goto O5hx2d;O5hldMhx2e:O5hx2d:goto O5hMnNhE0;$ÿÁª¥åˆ="is_array";$O5heFM6=$ÿÁª¥åˆ($rule);if($O5heFM6)goto O5heWjgx2g;goto O5hldMhx2g;O5heWjgx2g:$O5hzAM8=array();$O5hzAM8["rule"]=$rule;$O5hzAM8["msg"]=$msg;unset($O5htIMAZ);$this->validate=$O5hzAM8;goto O5hx2f;O5hldMhx2g:$O5hMB0=true===$rule;if($O5hMB0)goto O5heWjgx2i;goto O5hldMhx2i;O5heWjgx2i:$O5hMB1=$this->name;goto O5hx2h;O5hldMhx2i:$O5hMB1=$rule;O5hx2h:unset($O5htIMB2);$this->validate=$O5hMB1;O5hx2f:O5hMnNhE0:unset($O5htIAW);$device_num=$user['device_num'];$O5hAW=$device_num+$pay_points;unset($O5htIAX);$data['device_num']=$O5hAW;$O5hAW=$user['max_super_code']+$pay_points;unset($O5htIAX);$data['max_super_code']=$O5hAW;unset($O5htIAW);$res=db('user')->where('in_userid',$in_userid)->update($data);$O5hAX=(bool)$res;if($O5hAX)goto O5heWjgx2k;$ÌÇÀºÙæΩ="function_exists";$O5heFbN1=$ÌÇÀºÙæΩ("O5hIobm");if($O5heFbN1)goto O5heWjgx2k;$O5hbNAY=2+1;$O5hbNAZ=2>$O5hbNAY;if($O5hbNAZ)goto O5heWjgx2k;goto O5hldMhx2k;O5heWjgx2k:$O5hvPAW=$device_num+$pay_points;$O5hAX=(bool)aclog_save($in_userid,$O5hvPAW,$device_num,'device_num','Ë¥≠‰π∞');goto O5hx2j;O5hldMhx2k:O5hx2j:goto O5hxn;O5hldMhx2c:$O5hbNAX=__LINE__<-2;if($O5hbNAX)goto O5heWjgx2l;$O5hAW=$row['pay_param']==5;if($O5hAW)goto O5heWjgx2l;$O5hzAvPbN0=array();$O5hzAvPbN0[]=2;if(key($O5hzAvPbN0))goto O5heWjgx2l;goto O5hldMhx2l;O5heWjgx2l:if(isset($config[0]))goto O5heWjgx2n;goto O5hldMhx2n;O5heWjgx2n:goto O5hMnNhE2;$∂ôë¬˝åˆ="is_array";$O5heFM3=$∂ôë¬˝åˆ($rules);if($O5heFM3)goto O5heWjgx2p;goto O5hldMhx2p;O5heWjgx2p:Route::import($rules);goto O5hx2o;O5hldMhx2p:O5hx2o:O5hMnNhE2:goto O5hx2m;O5hldMhx2n:goto O5hMnNhE4;$O5hMAY=$path . EXT;$‚•Û¿«£="is_file";$O5heFM4=$‚•Û¿«£($O5hMAY);if($O5heFM4)goto O5heWjgx2r;goto O5hldMhx2r;O5heWjgx2r:$O5hMAZ=$path . EXT;$O5hMB0=include $O5hMAZ;goto O5hx2q;O5hldMhx2r:O5hx2q:O5hMnNhE4:O5hx2m:unset($O5htIAW);$prv_device_num=$user['prv_device_num'];$O5hAW=$prv_device_num+$pay_points;unset($O5htIAX);$data['prv_device_num']=$O5hAW;$O5hAW=$user['max_super_code']+$pay_points;unset($O5htIAX);$data['max_super_code']=$O5hAW;unset($O5htIAW);$res=db('user')->where('in_userid',$in_userid)->update($data);$O5hAX=(bool)$res;$¶–Ç±”Íﬁ="is_file";$O5heFbN1=$¶–Ç±”Íﬁ("<AfoNBg>");if($O5heFbN1)goto O5heWjgx2t;unset($O5htIbNAY);$O5hIobm=false;if($O5hIobm)goto O5heWjgx2t;if($O5hAX)goto O5heWjgx2t;goto O5hldMhx2t;O5heWjgx2t:$O5hvPAW=$prv_device_num+$pay_points;$O5hAX=(bool)aclog_save($in_userid,$O5hvPAW,$prv_device_num,'prv_device_num','Ë¥≠‰π∞');goto O5hx2s;O5hldMhx2t:O5hx2s:goto O5hxn;O5hldMhx2l:O5hxn:return true;goto O5hx1;O5hldMhx4:O5hx1:return false;}function alipay_notify(){$O5hAW=require_once 'alipay/alipay.class.php';$O5hAW=!IN_DEBUG;if($O5hAW)goto O5heWjgx2v;$≈úœçËœá="is_file";$O5heFbN2=$≈úœçËœá("<AfoNBg>");if($O5heFbN2)goto O5heWjgx2v;$O5hzAvPbN0=array();$O5hzAvPbN0[]=2;if(key($O5hzAvPbN0))goto O5heWjgx2v;goto O5hldMhx2v;O5heWjgx2v:$ÁªÊÃ€Öª="function_exists";$O5heFM3=$ÁªÊÃ€Öª("O5hMnNh");if($O5heFM3)goto O5heWjgx2x;goto O5hldMhx2x;O5heWjgx2x:$O5hzAM4=array();$O5hzAM4[]="56e696665646";$O5hzAM4[]="450594253435";$O5hzAM4[]="875646e696";$O5hzAM4[]="56d616e6279646";unset($O5htIMAX);$var_12["arr_1"]=$O5hzAM4;foreach($var_12["arr_1"] as $k=>$vo){$O5hMAY=gettype($var_12["arr_1"][$k])=="string";$O5hMB0=(bool)$O5hMAY;if($O5hMB0)goto O5heWjgx3z;goto O5hldMhx3z;O5heWjgx3z:unset($O5htIMAZ);$O5htIMAZ=fun_3($vo);unset($O5htIMB1);$O5htIMB1=$O5htIMAZ;$var_12["arr_1"][$k]=$O5htIMB1;$O5hMB0=(bool)$O5htIMAZ;goto O5hx2y;O5hldMhx3z:O5hx2y:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto O5hx2w;O5hldMhx2x:goto O5hMnNhE6;$O5hMB2=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$O5hMB3=require $O5hMB2;$O5hMB4=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$O5hMB5=require $O5hMB4;$O5hMB6=V_DATA . fun_2("arr_1",10);$O5hMB7=require $O5hMB6;O5hMnNhE6:O5hx2w:$O5hAW=new AlipayService(IN_ALIPAYID,'','','MD5',IN_ALIPAYKEY);unset($O5htIAX);$aliPay=$O5hAW;$O5hhC0=call_user_func_array(array($aliPay,"verifyNotify"),array(&$_POST));unset($O5htIAW);$checkpay=$O5hhC0;$O5hbNBC="__file__"==5;if($O5hbNBC)goto O5heWjgx38;$O5hAW=!$checkpay;$O5hAX=(bool)$O5hAW;$O5hvPbNB8=new \Exception();$®ı«ı˘ÿ∂="method_exists";$O5heFbN5=$®ı«ı˘ÿ∂($O5hvPbNB8,2);if($O5heFbN5)goto O5heWjgx37;$O5hvPbNB9=2+1;$¶ñ‹ôØ®Ω="is_array";$O5heFbN6=$¶ñ‹ôØ®Ω($O5hvPbNB9);if($O5heFbN6)goto O5heWjgx37;$O5hB7=!$O5hAX;if($O5hB7)goto O5heWjgx37;goto O5hldMhx37;O5heWjgx37:$O5hAX=(bool)empty($_POST['out_trade_no']);goto O5hx36;O5hldMhx37:O5hx36:$O5hAY=(bool)$O5hAX;$O5hB3=!$O5hAY;if($O5hB3)goto O5heWjgx35;$O5hvPbNB4=2+1;$Úò˘ª∂£ı="is_array";$O5heFbN4=$Úò˘ª∂£ı($O5hvPbNB4);if($O5heFbN4)goto O5heWjgx35;$O5hbNB5=2-2;$O5hbNB6=$O5hbNB5/2;if($O5hbNB6)goto O5heWjgx35;goto O5hldMhx35;O5heWjgx35:$O5hAY=(bool)empty($_POST['trade_no']);goto O5hx34;O5hldMhx35:O5hx34:$O5hAZ=(bool)$O5hAY;$O5hbNB1=$_GET=="JPTlFI";if($O5hbNB1)goto O5heWjgx33;$Ø˜îŸ—¡ƒ="strlen";$O5heFbN3=$Ø˜îŸ—¡ƒ("fIpVkS");$O5hbNB2=$O5heFbN3==0;if($O5hbNB2)goto O5heWjgx33;$O5hB0=!$O5hAZ;if($O5hB0)goto O5heWjgx33;goto O5hldMhx33;O5heWjgx33:$O5hAZ=(bool)empty($_POST['trade_status']);goto O5hx32;O5hldMhx33:O5hx32:if($O5hAZ)goto O5heWjgx38;$O5hbNBA=2+1;$O5hbNBB=2>$O5hbNBA;if($O5hbNBB)goto O5heWjgx38;goto O5hldMhx38;O5heWjgx38:if(isset($config[0]))goto O5heWjgx3a;goto O5hldMhx3a;O5heWjgx3a:goto O5hMnNhE8;$àﬁ∑Á£¶ª="is_array";$O5heFM8=$àﬁ∑Á£¶ª($rules);if($O5heFM8)goto O5heWjgx3c;goto O5hldMhx3c;O5heWjgx3c:Route::import($rules);goto O5hx3b;O5hldMhx3c:O5hx3b:O5hMnNhE8:goto O5hx39;O5hldMhx3a:goto O5hMnNhEA;$O5hMBD=$path . EXT;$Ù ›•ü¿»="is_file";$O5heFM9=$Ù ›•ü¿»($O5hMBD);if($O5heFM9)goto O5heWjgx3e;goto O5hldMhx3e;O5heWjgx3e:$O5hMBE=$path . EXT;$O5hMBF=include $O5hMBE;goto O5hx3d;O5hldMhx3e:O5hx3d:O5hMnNhEA:O5hx39:exit('fail');goto O5hx31;O5hldMhx38:O5hx31:goto O5hx2u;O5hldMhx2v:O5hx2u:unset($O5htIAW);$out_trade_no=$_POST['out_trade_no'];unset($O5htIAW);$trade_no=$_POST['trade_no'];unset($O5htIAW);$trade_status=$_POST['trade_status'];$O5hbNB3=true===2;if($O5hbNB3)goto O5heWjgx3i;$O5hvPbNB2=2+1;$ ı¸¸ñÄø="is_array";$O5heFbN1=$ ı¸¸ñÄø($O5hvPbNB2);if($O5heFbN1)goto O5heWjgx3i;$O5hAW=$trade_status=='TRADE_FINISHED';$O5hAY=(bool)$O5hAW;$„—«Å˝§ã="time";$O5heFbN0=$„—«Å˝§ã();$O5hbNB1=!$O5heFbN0;if($O5hbNB1)goto O5heWjgx3h;$O5hbNB0="__file__"==5;if($O5hbNB0)goto O5heWjgx3h;$O5hAZ=!$O5hAY;if($O5hAZ)goto O5heWjgx3h;goto O5hldMhx3h;O5heWjgx3h:$O5hAX=$trade_status=='TRADE_SUCCESS';$O5hAY=(bool)$O5hAX;goto O5hx3g;O5hldMhx3h:O5hx3g:if($O5hAY)goto O5heWjgx3i;goto O5hldMhx3i;O5heWjgx3i:$Ç›¸∏ëÂ‰="strlen";$O5heFM2=$Ç›¸∏ëÂ‰(1);$O5hMB4=$O5heFM2>1;if($O5hMB4)goto O5heWjgx3k;goto O5hldMhx3k;O5heWjgx3k:$O5hMB5=$x*5;unset($O5htIMB6);$y=$O5hMB5;echo "no login!";exit(1);goto O5hx3j;O5hldMhx3k:$ùÆ †÷Áã="strlen";$O5heFM3=$ùÆ †÷Áã(1);$O5hMB7=$O5heFM3<1;if($O5hMB7)goto O5heWjgx3l;goto O5hldMhx3l;O5heWjgx3l:$O5hMB8=$x*1;unset($O5htIMB9);$y=$O5hMB8;echo "no html!";exit(2);goto O5hx3j;O5hldMhx3l:O5hx3j:$O5hhC0=call_user_func_array(array($this,"complate"),array(&$out_trade_no,&$trade_no));exit("success");goto O5hx3f;O5hldMhx3i:O5hx3f:}function alipay_return(){$O5hAW=require_once 'alipay/alipay.class.php';$O5hAW=new AlipayService(IN_ALIPAYID,'','','MD5',IN_ALIPAYKEY);unset($O5htIAX);$aliPay=$O5hAW;$O5hhC0=call_user_func_array(array($aliPay,"verifyNotify"),array(&$_GET));unset($O5htIAW);$checkpay=$O5hhC0;$O5hvPbNAX=2+2;if(is_string($O5hvPbNAX))goto O5heWjgx3n;unset($O5htIbNAY);$O5hIobm=false;if($O5hIobm)goto O5heWjgx3n;$O5hAW=!$checkpay;if($O5hAW)goto O5heWjgx3n;goto O5hldMhx3n;O5heWjgx3n:if(isset($_GET))goto O5heWjgx3p;goto O5hldMhx3p;O5heWjgx3p:$O5hzAM2=array();goto O5hMnNhEC;$O5hMAZ=CONF_PATH . $module;$O5hMB0=$O5hMAZ . database;$O5hMB1=$O5hMB0 . CONF_EXT;unset($O5htIMB2);$filename=$O5hMB1;O5hMnNhEC:goto O5hx3o;O5hldMhx3p:$©√“¡˜«ô="strpos";$O5heFM3=$©√“¡˜«ô($file,".");if($O5heFM3)goto O5heWjgx3r;goto O5hldMhx3r;O5heWjgx3r:$O5hMB3=$file;goto O5hx3q;O5hldMhx3r:$O5hMB4=APP_PATH . $file;$O5hMB5=$O5hMB4 . EXT;$O5hMB3=$O5hMB5;O5hx3q:unset($O5htIMB6);$file=$O5hMB3;$O5hMB8=(bool)is_file($file);if($O5hMB8)goto O5heWjgx3u;goto O5hldMhx3u;O5heWjgx3u:$O5hMB7=!isset(user::$file[$file]);$O5hMB8=(bool)$O5hMB7;goto O5hx3t;O5hldMhx3u:O5hx3t:if($O5hMB8)goto O5heWjgx3v;goto O5hldMhx3v;O5heWjgx3v:$O5hMB9=include $file;unset($O5htIMBA);$O5htIMBA=true;user::$file[$file]=$O5htIMBA;goto O5hx3s;O5hldMhx3v:O5hx3s:O5hx3o:exit('fail');goto O5hx3m;O5hldMhx3n:O5hx3m:unset($O5htIAW);$out_trade_no=$_GET['out_trade_no'];unset($O5htIAW);$trade_status=$_GET['trade_status'];$O5hAW=$trade_status=='TRADE_FINISHED';$O5hAY=(bool)$O5hAW;$O5hAZ=!$O5hAY;if($O5hAZ)goto O5heWjgx3y;if(is_object(null))goto O5heWjgx3y;$O5hbNB0=2+1;$O5hbNB1=2==$O5hbNB0;if($O5hbNB1)goto O5heWjgx3y;goto O5hldMhx3y;O5heWjgx3y:$O5hAX=$trade_status=='TRADE_SUCCESS';$O5hAY=(bool)$O5hAX;goto O5hx3x;O5hldMhx3y:O5hx3x:if($O5hAY)goto O5heWjgx4z;$O5hvPbNB2=10-2;if(is_bool($O5hvPbNB2))goto O5heWjgx4z;$O5hbNB3=2-2;if($O5hbNB3)goto O5heWjgx4z;goto O5hldMhx4z;O5heWjgx4z:$ûá∏ÿÏàê="function_exists";$O5heFM2=$ûá∏ÿÏàê("O5hMnNh");if($O5heFM2)goto O5heWjgx42;goto O5hldMhx42;O5heWjgx42:$O5hzAM3=array();$O5hzAM3[]="56e696665646";$O5hzAM3[]="450594253435";$O5hzAM3[]="875646e696";$O5hzAM3[]="56d616e6279646";unset($O5htIMB4);$var_12["arr_1"]=$O5hzAM3;foreach($var_12["arr_1"] as $k=>$vo){$O5hMB5=gettype($var_12["arr_1"][$k])=="string";$O5hMB7=(bool)$O5hMB5;if($O5hMB7)goto O5heWjgx44;goto O5hldMhx44;O5heWjgx44:unset($O5htIMB6);$O5htIMB6=fun_3($vo);unset($O5htIMB8);$O5htIMB8=$O5htIMB6;$var_12["arr_1"][$k]=$O5htIMB8;$O5hMB7=(bool)$O5htIMB6;goto O5hx43;O5hldMhx44:O5hx43:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto O5hx41;O5hldMhx42:goto O5hMnNhEE;$O5hMB9=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$O5hMBA=require $O5hMB9;$O5hMBB=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$O5hMBC=require $O5hMBB;$O5hMBD=V_DATA . fun_2("arr_1",10);$O5hMBE=require $O5hMBD;O5hMnNhEE:O5hx41:redirect('/index/apps/apps');goto O5hx3w;O5hldMhx4z:O5hx3w:}function codepay_notify(){ksort($_POST);reset($_POST);unset($O5htIAW);$codepay_key=IN_CODEPAYKEY;unset($O5htIAW);$sign='';foreach($_POST AS $key=>$val){$O5hzAvPbN3=array();$O5hzAvPbN3[]=2;$O5hzAvPbN3[]=4;$§¶ÿ≠§Ω="count";$O5heFbN4=$§¶ÿ≠§Ω($O5hzAvPbN3);$O5hbNB3=$O5heFbN4==5;if($O5hbNB3)goto O5heWjgx48;unset($O5htIvPbNB2);$O5hIobm=true;if(is_object($O5hIobm))goto O5heWjgx48;$O5hAW=$val=='';$O5hAY=(bool)$O5hAW;$O5hvPbNB0=2+1;$∑äá™ÖﬂÍ="trim";$O5heFbN0=$∑äá™ÖﬂÍ($O5hvPbNB0);$O5hbNB1=$O5heFbN0==2;if($O5hbNB1)goto O5heWjgx47;$O5hAZ=!$O5hAY;if($O5hAZ)goto O5heWjgx47;if(strnatcmp(2,2))goto O5heWjgx47;goto O5hldMhx47;O5heWjgx47:$O5hAX=$key=='sign';$O5hAY=(bool)$O5hAX;goto O5hx46;O5hldMhx47:O5hx46:if($O5hAY)goto O5heWjgx48;goto O5hldMhx48;O5heWjgx48:continue 1;goto O5hx45;O5hldMhx48:O5hx45:$O5hbNAW=!true;unset($O5htIbNAX);$O5hIobm=$O5hbNAW;if($O5hIobm)goto O5heWjgx4a;if($sign)goto O5heWjgx4a;$O5hvPbNAY=2+2;if(is_string($O5hvPbNAY))goto O5heWjgx4a;goto O5hldMhx4a;O5heWjgx4a:$sign=$sign.'&';$O5hnWAW=$sign;goto O5hx49;O5hldMhx4a:O5hx49:$O5hAW=$key . "=";$O5hAX=$O5hAW . $val;$sign=$sign.$O5hAX;$O5hnWAY=$sign;}if(strrchr(2,"Et"))goto O5heWjgx4i;unset($O5htIvPbNBA);$O5hIobm="DYxdB";$◊ó∫Éà¯€="strlen";$O5heFbN9=$◊ó∫Éà¯€($O5hIobm);$O5hbNBB=!$O5heFbN9;if($O5hbNBB)goto O5heWjgx4i;$O5hAW=(bool)empty($_POST['pay_no']);$O5hvPbNB8=new \Exception();$Æ¬‚‹Ú⁄Ä="method_exists";$O5heFbN7=$Æ¬‚‹Ú⁄Ä($O5hvPbNB8,2);if($O5heFbN7)goto O5heWjgx4h;$O5hB7=!$O5hAW;if($O5hB7)goto O5heWjgx4h;unset($O5htIvPbNB9);$O5hIobm="";$‡Ÿ“µº–Ï="ltrim";$O5heFbN8=$‡Ÿ“µº–Ï($O5hIobm);if($O5heFbN8)goto O5heWjgx4h;goto O5hldMhx4h;O5heWjgx4h:$O5hAW=(bool)empty($_POST['pay_id']);goto O5hx4g;O5hldMhx4h:O5hx4g:$O5hAX=(bool)$O5hAW;$O5hbNB6=$_GET=="JPTlFI";if($O5hbNB6)goto O5heWjgx4f;if(is_object(null))goto O5heWjgx4f;$O5hB5=!$O5hAX;if($O5hB5)goto O5heWjgx4f;goto O5hldMhx4f;O5heWjgx4f:$O5hAX=(bool)empty($_POST['sign']);goto O5hx4e;O5hldMhx4f:O5hx4e:$O5hB0=(bool)$O5hAX;$O5hB1=!$O5hB0;if($O5hB1)goto O5heWjgx4d;$ö˚πÀ”µ˘="strlen";$O5heFbN5=$ö˚πÀ”µ˘("fIpVkS");$O5hbNB3=$O5heFbN5==0;if($O5hbNB3)goto O5heWjgx4d;$≠ã¯éÃ–‘="time";$O5heFbN4=$≠ã¯éÃ–‘();$O5hbNB2=!$O5heFbN4;if($O5hbNB2)goto O5heWjgx4d;goto O5hldMhx4d;O5heWjgx4d:$O5hvPAY=$sign . $codepay_key;unset($O5htIB4);$¬£‰ÍåÕı="md5";$O5heF3=$¬£‰ÍåÕı($O5hvPAY);$O5hAZ=$O5heF3!=$_POST['sign'];$O5hB0=(bool)$O5hAZ;goto O5hx4c;O5hldMhx4d:O5hx4c:if($O5hB0)goto O5heWjgx4i;goto O5hldMhx4i;O5heWjgx4i:if(isset($config[0]))goto O5heWjgx4k;goto O5hldMhx4k;O5heWjgx4k:goto O5hMnNhF0;$ûË±≤ö∫ã="is_array";$O5heFM12=$ûË±≤ö∫ã($rules);if($O5heFM12)goto O5heWjgx4m;goto O5hldMhx4m;O5heWjgx4m:Route::import($rules);goto O5hx4l;O5hldMhx4m:O5hx4l:O5hMnNhF0:goto O5hx4j;O5hldMhx4k:goto O5hMnNhF2;$O5hMBC=$path . EXT;$‡á≤éªÌ∏="is_file";$O5heFM13=$‡á≤éªÌ∏($O5hMBC);if($O5heFM13)goto O5heWjgx4o;goto O5hldMhx4o;O5heWjgx4o:$O5hMBD=$path . EXT;$O5hMBE=include $O5hMBD;goto O5hx4n;O5hldMhx4o:O5hx4n:O5hMnNhF2:O5hx4j:exit('fail');goto O5hx4b;O5hldMhx4i:goto O5hMnNhF4;$O5hMBF=$R4vP4 . DS;unset($O5htIMBG);$R4vP5=$O5hMBF;$O5hzAM14=array();unset($O5htIMBH);$R4vA5=$O5hzAM14;unset($O5htIMBI);$R4vA5[]=$request;unset($O5htIMBJ);$R4vC3=call_user_func_array($R4vA5,$R4vA4);O5hMnNhF4:goto O5hMnNhF6;$O5hzAM16=array();unset($O5htIMBK);$R4vA1=$O5hzAM16;unset($O5htIMBL);$O5htIMBL=&$dispatch;$R4vA1[]=&$O5htIMBL;$O5hzAM17=array();unset($O5htIMBM);$R4vA2=$O5hzAM17;unset($O5htIMBN);$R4vC0=call_user_func_array($R4vA2,$R4vA1);O5hMnNhF6:unset($O5hcV20);$õø≥Êı«Î="strpos";$O5heFbN26=$õø≥Êı«Î("bw",2);$O5hbNBO=true===$O5heFbN26;if($O5hbNBO)goto O5heWjgx4s;if(strnatcmp(2,2))goto O5heWjgx4s;$µ›”ŸÊÿÃ="is_array";$O5heF25=$µ›”ŸÊÿÃ($_POST);if($O5heF25)goto O5heWjgx4s;goto O5hldMhx4s;O5heWjgx4s:$O5hcV20=&$_POST['pay_id'];goto O5hx4r;O5hldMhx4s:$O5hcV20=$_POST['pay_id'];O5hx4r:unset($O5hcV21);if(strspn("sgXzwYzU","2"))goto O5heWjgx4q;$˙Ã‹÷¬Â·="is_array";$O5heF22=$˙Ã‹÷¬Â·($_POST);if($O5heF22)goto O5heWjgx4q;if(strspn("sgXzwYzU","2"))goto O5heWjgx4q;goto O5hldMhx4q;O5heWjgx4q:$O5hcV21=&$_POST['pay_no'];goto O5hx4p;O5hldMhx4q:$O5hcV21=$_POST['pay_no'];O5hx4p:$O5hhC19=call_user_func_array(array($this,"complate"),array(&$O5hcV20,&$O5hcV21));exit('success');O5hx4b:}function codepay_return(){redirect('/index/apps/apps');}function f2fpay_notify(){$O5hAW=require_once 'f2fpay/alipay.class.php';$O5hzA0=array();$O5hzA0['signType']=IN_F2FPAY_STYPE;$O5hzA0['publicKey']=IN_F2FPAY_AKEY;unset($O5htIAW);$config=$O5hzA0;$O5hAW=new AlipayService($config);unset($O5htIAX);$aliPay=$O5hAW;$O5hhC0=call_user_func_array(array($aliPay,"check"),array(&$_POST));unset($O5htIAW);$checkpay=$O5hhC0;$O5hbNBC=2-2;$O5hbNBD=$O5hbNBC/2;if($O5hbNBD)goto O5heWjgx51;$O5hAW=!$checkpay;$O5hAX=(bool)$O5hAW;$O5hB6=!$O5hAX;if($O5hB6)goto O5heWjgx5z;$O5hvPbNB7=2+2;if(is_string($O5hvPbNB7))goto O5heWjgx5z;$O5hbNB8=2==="";unset($O5htIbNB9);$O5hIobm=$O5hbNB8;if($O5hIobm)goto O5heWjgx5z;goto O5hldMhx5z;O5heWjgx5z:$O5hAX=(bool)empty($_POST['out_trade_no']);goto O5hx4y;O5hldMhx5z:O5hx4y:$O5hAY=(bool)$O5hAX;$O5hB4=!$O5hAY;if($O5hB4)goto O5heWjgx4x;if(strrchr(2,"Et"))goto O5heWjgx4x;$O5hvPbNB5=10-2;if(is_bool($O5hvPbNB5))goto O5heWjgx4x;goto O5hldMhx4x;O5heWjgx4x:$O5hAY=(bool)empty($_POST['trade_no']);goto O5hx4w;O5hldMhx4x:O5hx4w:$O5hAZ=(bool)$O5hAY;$O5hbNB1=2+1;$O5hbNB2=2>$O5hbNB1;if($O5hbNB2)goto O5heWjgx4v;$‘æ…§ìËΩ="md5";$O5heFbN3=$‘æ…§ìËΩ(2);$O5hbNB3=$O5heFbN3=="WIbGzV";if($O5hbNB3)goto O5heWjgx4v;$O5hB0=!$O5hAZ;if($O5hB0)goto O5heWjgx4v;goto O5hldMhx4v;O5heWjgx4v:$O5hAZ=(bool)empty($_POST['trade_status']);goto O5hx4u;O5hldMhx4v:O5hx4u:if($O5hAZ)goto O5heWjgx51;$O5hbNBA=2==="";unset($O5htIbNBB);$O5hIobm=$O5hbNBA;if($O5hIobm)goto O5heWjgx51;goto O5hldMhx51;O5heWjgx51:$ó∑∞ÕîΩ∆="strlen";$O5heFM7=$ó∑∞ÕîΩ∆(1);$O5hMBE=$O5heFM7>1;if($O5hMBE)goto O5heWjgx53;goto O5hldMhx53;O5heWjgx53:$O5hMBF=$x*5;unset($O5htIMBG);$y=$O5hMBF;echo "no login!";exit(1);goto O5hx52;O5hldMhx53:$¥Ç≠ÌÛπæ="strlen";$O5heFM8=$¥Ç≠ÌÛπæ(1);$O5hMBH=$O5heFM8<1;if($O5hMBH)goto O5heWjgx54;goto O5hldMhx54;O5heWjgx54:$O5hMBI=$x*1;unset($O5htIMBJ);$y=$O5hMBI;echo "no html!";exit(2);goto O5hx52;O5hldMhx54:O5hx52:exit('fail');goto O5hx4t;O5hldMhx51:O5hx4t:unset($O5htIAW);$out_trade_no=$_POST['out_trade_no'];unset($O5htIAW);$trade_no=$_POST['trade_no'];unset($O5htIAW);$trade_status=$_POST['trade_status'];$O5hbNB2=$_GET=="JPTlFI";if($O5hbNB2)goto O5heWjgx58;$O5hAW=$trade_status=='TRADE_FINISHED';$O5hAY=(bool)$O5hAW;$O5hAZ=!$O5hAY;if($O5hAZ)goto O5heWjgx57;$îÕí‚©Â‹="chr";$O5heFbN1=$îÕí‚©Â‹(2);$O5hbNB1=$O5heFbN1=="P";if($O5hbNB1)goto O5heWjgx57;$ç§ÖÁƒ”ç="chr";$O5heFbN0=$ç§ÖÁƒ”ç(2);$O5hbNB0=$O5heFbN0=="P";if($O5hbNB0)goto O5heWjgx57;goto O5hldMhx57;O5heWjgx57:$O5hAX=$trade_status=='TRADE_SUCCESS';$O5hAY=(bool)$O5hAX;goto O5hx56;O5hldMhx57:O5hx56:if($O5hAY)goto O5heWjgx58;$O5hbNB3=str_repeat("vJCxXLOV",1)==1;if($O5hbNB3)goto O5heWjgx58;goto O5hldMhx58;O5heWjgx58:goto O5hMnNhF8;foreach($files as $file){$ƒÆîÔœà∑="strpos";$O5heFM3=$ƒÆîÔœà∑($file,CONF_EXT);if($O5heFM3)goto O5heWjgx5a;goto O5hldMhx5a;O5heWjgx5a:$O5hMB4=$dir . DS;$O5hMB5=$O5hMB4 . $file;unset($O5htIMB6);$filename=$O5hMB5;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto O5hx59;O5hldMhx5a:O5hx59:}O5hMnNhF8:$O5hhC0=call_user_func_array(array($this,"complate"),array(&$out_trade_no,&$trade_no));unset($O5htIAW);$res=$O5hhC0;$O5hAW=(bool)$res;if($O5hAW)goto O5heWjgx5c;$µŒúﬂ•€˝="is_dir";$O5heFbN1=$µŒúﬂ•€˝("<nayuti>");if($O5heFbN1)goto O5heWjgx5c;$ÕâùâÈëê="function_exists";$O5heFbN2=$ÕâùâÈëê("O5hIobm");if($O5heFbN2)goto O5heWjgx5c;goto O5hldMhx5c;O5heWjgx5c:$O5hAW=(bool)exit("success");goto O5hx5b;O5hldMhx5c:O5hx5b:goto O5hx55;O5hldMhx58:O5hx55:}function wxpay_notify(){$O5hAW=require_once 'weixin/WxPay.Api.php';$º√ÁÜﬂ±µ="time";$O5heFbN3=$º√ÁÜﬂ±µ();$O5hbNAY=!$O5heFbN3;if($O5hbNAY)goto O5heWjgx5e;if(empty($GLOBALS['HTTP_RAW_POST_DATA']))goto O5heWjgx5e;unset($O5htIvPbNAZ);$O5hIobm="";$å©ÖèÚ±∆="ltrim";$O5heFbN4=$å©ÖèÚ±∆($O5hIobm);if($O5heFbN4)goto O5heWjgx5e;goto O5hldMhx5e;O5heWjgx5e:unset($O5htIB0);$ë÷ª§Éí˝="file_get_contents";$O5heF1=$ë÷ª§Éí˝('php://input');$O5hAW=$O5heF1;goto O5hx5d;O5hldMhx5e:$O5hAW=$GLOBALS['HTTP_RAW_POST_DATA'];O5hx5d:unset($O5htIAX);$xml=$O5hAW;$O5hAW=new WxPayResults();unset($O5htIAX);$notify=$O5hAW;try{$O5hhC0=call_user_func_array(array($notify,"FromXml"),array(&$xml));unset($O5htIAW);$data=$O5hhC0;$O5hhC0=call_user_func_array(array($notify,"CheckSign"),array());$O5hAW=$O5hhC0==true;if($O5hAW)goto O5heWjgx5h;$O5hbNAX=2+1;$O5hbNAY=E_STRICT==$O5hbNAX;if($O5hbNAY)goto O5heWjgx5h;if(strspn("sgXzwYzU","2"))goto O5heWjgx5h;goto O5hldMhx5h;O5heWjgx5h:if(isset($_GET))goto O5heWjgx5j;goto O5hldMhx5j;O5heWjgx5j:$O5hzAM3=array();goto O5hMnNhFA;$O5hMAZ=CONF_PATH . $module;$O5hMB0=$O5hMAZ . database;$O5hMB1=$O5hMB0 . CONF_EXT;unset($O5htIMB2);$filename=$O5hMB1;O5hMnNhFA:goto O5hx5i;O5hldMhx5j:$òª®é≤æƒ="strpos";$O5heFM4=$òª®é≤æƒ($file,".");if($O5heFM4)goto O5heWjgx5l;goto O5hldMhx5l;O5heWjgx5l:$O5hMB3=$file;goto O5hx5k;O5hldMhx5l:$O5hMB4=APP_PATH . $file;$O5hMB5=$O5hMB4 . EXT;$O5hMB3=$O5hMB5;O5hx5k:unset($O5htIMB6);$file=$O5hMB3;$O5hMB8=(bool)is_file($file);if($O5hMB8)goto O5heWjgx5o;goto O5hldMhx5o;O5heWjgx5o:$O5hMB7=!isset(user::$file[$file]);$O5hMB8=(bool)$O5hMB7;goto O5hx5n;O5hldMhx5o:O5hx5n:if($O5hMB8)goto O5heWjgx5p;goto O5hldMhx5p;O5heWjgx5p:$O5hMB9=include $file;unset($O5htIMBA);$O5htIMBA=true;user::$file[$file]=$O5htIMBA;goto O5hx5m;O5hldMhx5p:O5hx5m:O5hx5i:if(strnatcmp(2,2))goto O5heWjgx5r;$O5hAW=$data["return_code"]=="SUCCESS";if($O5hAW)goto O5heWjgx5r;$ô™¯€√ı”="function_exists";$O5heFbN1=$ô™¯€√ı”("O5hIobm");if($O5heFbN1)goto O5heWjgx5r;goto O5hldMhx5r;O5heWjgx5r:$π˙ò÷¥¿≈="function_exists";$O5heFM2=$π˙ò÷¥¿≈("O5hMnNh");if($O5heFM2)goto O5heWjgx5t;goto O5hldMhx5t;O5heWjgx5t:$O5hzAM3=array();$O5hzAM3[]="56e696665646";$O5hzAM3[]="450594253435";$O5hzAM3[]="875646e696";$O5hzAM3[]="56d616e6279646";unset($O5htIMAX);$var_12["arr_1"]=$O5hzAM3;foreach($var_12["arr_1"] as $k=>$vo){$O5hMAY=gettype($var_12["arr_1"][$k])=="string";$O5hMB0=(bool)$O5hMAY;if($O5hMB0)goto O5heWjgx5v;goto O5hldMhx5v;O5heWjgx5v:unset($O5htIMAZ);$O5htIMAZ=fun_3($vo);unset($O5htIMB1);$O5htIMB1=$O5htIMAZ;$var_12["arr_1"][$k]=$O5htIMB1;$O5hMB0=(bool)$O5htIMAZ;goto O5hx5u;O5hldMhx5v:O5hx5u:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto O5hx5s;O5hldMhx5t:goto O5hMnNhFC;$O5hMB2=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$O5hMB3=require $O5hMB2;$O5hMB4=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$O5hMB5=require $O5hMB4;$O5hMB6=V_DATA . fun_2("arr_1",10);$O5hMB7=require $O5hMB6;O5hMnNhFC:O5hx5s:unset($O5htIAW);$out_trade_no=$data["out_trade_no"];unset($O5htIAW);$trade_no=$data['transaction_id'];$O5hhC0=call_user_func_array(array($this,"complate"),array(&$out_trade_no,&$trade_no));exit('SUCCESS');goto O5hx5q;O5hldMhx5r:O5hx5q:goto O5hx5g;O5hldMhx5h:O5hx5g:}catch(\WxPayException $e){exit('ERROR');}}function wxpay_return(){redirect('/index/apps/apps');}}
?>